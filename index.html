<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ndarray: ndarray; Multidimensional Arrays in C++</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ndarray
   </div>
   <div id="projectbrief">NumPy-friendly multidimensional arrays in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ndarray; Multidimensional Arrays in C++ </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >ndarray is a template library that provides multidimensional array objects in C++, with an interface and features designed to mimic the Python 'numpy' package as much as possible.</p>
<p >A tutorial can be found <a class="el" href="ndarrayTutorial.html">here</a>.</p>
<h1><a class="anchor" id="comparisons"></a>
Other Multidimensional Array Libraries</h1>
<p >A number of other public C++ multidimensional array libraries already exist, such as boost.MultiArray, Blitz++, and xtensor. Much of the architecture and some of the interface of the ndarray templates is built on ideas from both of these, particularly boost.MultiArray. ndarray supports shared ownership of data, lazy evaluation of mathematical operations using expression templates, and the ability to use externally allocated memory. It also supports optimized, natural, nested iteration and preserve const-correctness (albeit with different semantics).</p>
<p >While ndarray can perform numerical operations with broadcasting, it makes no attempt to perform explicit vectorization, and libraries that focus more on computational performance will be better at it in almost every context. ndarray's goal is to provide lightweight, flexible data structures with a more Python-friendly ownership model, while maintaining enough static typing to allow optimized libraries (such as Eigen) to work effectively on ndarray-managed arrays.</p>
<h1><a class="anchor" id="semantics"></a>
Copy and Constness Semantics</h1>
<p >The memory used by ndarray objects is reference counted, and can be allocated using any STL-compatible allocator. Arrays can also be constructed from external memory buffers, with full reference counting for any external memory owned by an object that participates in any reference-counting scheme (most notably memory belonging to Python Numpy arrays in C++ Python extensions). Reference counting can also be disabled for individual arrays that reference external memory that is not reference-counted.</p>
<p ><a class="el" href="classndarray_1_1Array.html" title="A multidimensional strided array.">Array</a> objects in ndarray preserve constness in the same way as most C++ smart pointers: there is a distinction between an array with const elements (Array&lt;T const,N&gt;) and a const array value or reference (Array&lt;T,N&gt; const). An array with const elements does not support operations that change element values ("deep" operations), while a const array object or reference does not allow the array's data pointer, shape, or strides to be changed ("shallow" operations). As a result, functions should generally use const references for both input and output array arguments (with const and non-const elements, respectively). Arrays with non-const elements are implicitly (and efficiently) convertible to arrays with const elements, while an array with const elements can be cast to one with non-const elements using the const_array_cast function.</p>
<h1><a class="anchor" id="contiguousness"></a>
The Row-Major Contiguous Template Parameter</h1>
<p >In addition to being templated on its element type and total number of dimensions, <a class="el" href="classndarray_1_1Array.html" title="A multidimensional strided array.">Array</a> is parameterized by the number of guaranteed row-major contiguous (RMC) dimensions, starting from the end. This parameter defaults to zero. For example:</p>
<ul>
<li>Array&lt;T,2,2&gt; is a fully row-major contiguous matrix. Each row of the matrix is a vector with contiguous elements, and there is no space between rows.</li>
<li>Array&lt;T,2,1&gt; is a row-major matrix in which each row is a vector with contiguous elements, but there may be space between the rows (or there may not be; the template parameter indicates only the guaranteed number of RMC dimensions).</li>
<li>Array&lt;T,2,0&gt; is a matrix that can have any strides, including column-major.</li>
</ul>
<p >An <a class="el" href="classndarray_1_1Array.html" title="A multidimensional strided array.">Array</a> with M RMC dimensions can be implicitly converted to an <a class="el" href="classndarray_1_1Array.html" title="A multidimensional strided array.">Array</a> with N&lt;=M RMC dimensions. The <code>static_dimension_cast</code> and <code>dynamic_dimension_cast</code> functions can be used to create arrays with M&lt;N RMC dimensions (dynamic_dimension_cast returns an empty <a class="el" href="classndarray_1_1Array.html" title="A multidimensional strided array.">Array</a> if the strides are not appropriately RMC, while static_dimension_cast does no checking).</p>
<h1><a class="anchor" id="ndarrayViews"></a>
Indexing and Views</h1>
<p >An <a class="el" href="classndarray_1_1Array.html" title="A multidimensional strided array.">Array</a> with dimension N&gt;1 behaves like largely like an STL container of <a class="el" href="classndarray_1_1Array.html" title="A multidimensional strided array.">Array</a> of dimension N-1. An <a class="el" href="classndarray_1_1Array.html" title="A multidimensional strided array.">Array</a> with dimension 1 behaves like a simple container of elements. Iterators over an <a class="el" href="classndarray_1_1Array.html" title="A multidimensional strided array.">Array</a> with N&gt;1 thus dereference to Arrays with dimension N-1, and standard [] indexing also yields the expected lower-dimensional array.</p>
<p >Arbitrary views can be retrieved by passing a view definition to an <a class="el" href="classndarray_1_1Array.html" title="A multidimensional strided array.">Array</a>'s bracket indexing operators. These view definitions are temporaries created by the <a class="el" href="group__ndarrayMainGroup.html#ga63e7f29d98c66fad64208e0912669e9f" title="Start a view definition that includes the entire first dimension.">view()</a> function: </p><div class="fragment"><div class="line"><span class="comment">// let &#39;a&#39; be a 3 dimensional array with dimensions (3,5,4)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// equivalent to a[1:3,:,2] in numpy:</span></div>
<div class="line"><a class="code hl_class" href="classndarray_1_1Array.html">Array&lt;double,2,1&gt;</a> subset1 = a[<a class="code hl_function" href="group__ndarrayMainGroup.html#ga63e7f29d98c66fad64208e0912669e9f">view</a>(1,3)()(2)];</div>
<div class="line"> </div>
<div class="line"><span class="comment">// equivalent to a[:,:,0:4:2] in numpy in numpy:</span></div>
<div class="line"><a class="code hl_class" href="classndarray_1_1Array.html">Array&lt;double,3&gt;</a> subset2 = a[<a class="code hl_function" href="group__ndarrayMainGroup.html#ga63e7f29d98c66fad64208e0912669e9f">view</a>()()(0,4,2)];</div>
<div class="ttc" id="aclassndarray_1_1Array_html"><div class="ttname"><a href="classndarray_1_1Array.html">ndarray::Array</a></div><div class="ttdoc">A multidimensional strided array.</div><div class="ttdef"><b>Definition:</b> Array.h:35</div></div>
<div class="ttc" id="agroup__ndarrayMainGroup_html_ga63e7f29d98c66fad64208e0912669e9f"><div class="ttname"><a href="group__ndarrayMainGroup.html#ga63e7f29d98c66fad64208e0912669e9f">ndarray::view</a></div><div class="ttdeci">View&lt; boost::fusion::vector1&lt; index::Full &gt; &gt; view()</div><div class="ttdoc">Start a view definition that includes the entire first dimension.</div><div class="ttdef"><b>Definition:</b> views.h:121</div></div>
</div><!-- fragment --><p> Supplying a single integer indexes a dimension by a scalar (which reduces the dimension of output), supplying a pair of integers indicates a contiguous range, and supplying three integers indicates a slice. Specifying no arguments for a dimension includes the entire dimension. Not indexing all dimensions is equivalent to including empty parentheses for the remaining dimensions.</p>
<h1><a class="anchor" id="downloads"></a>
Downloads</h1>
<p ><a href="https://github.com/ndarray/ndarray/releases">https://github.com/ndarray/ndarray/releases</a></p>
<h1><a class="anchor" id="License"></a>
License</h1>
<p >ndarray is distributed under a simple BSD-like license: <a href="https://github.com/ndarray/ndarray/blob/master/LICENSE">https://github.com/ndarray/ndarray/blob/master/LICENSE</a> </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jan 5 2022 20:27:56 for ndarray by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
